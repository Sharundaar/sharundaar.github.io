<!DOCTYPE html>
<html lang="en">
  <head>
        <title>Sharundaar's Blog - Leveraging DearImGui in Unreal</title>
      <meta charset="utf-8" />
      <meta name="generator" content="Pelican" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script>
      <script src="./theme/scripts/dropdown.js" defer></script>
      <script src="./theme/scripts/copy-to-clipboard.js" defer></script>
      <link rel="stylesheet" type="text/css" href="./theme/css/style.css" />
      <link rel="stylesheet" type="text/css" href="./theme/css/code-highlights.css" />





  </head>

  <body class="bg-dark d-flex mb-4">
    <aside class="sh-offcanvas sh-offcanvas-start d-lg-block me-4 bg-dark flex-shrink-0" tabindex="-1" id="offcanvas-sidebar" aria-labelledby="sidebarLabel">
      <div class="sticky-top ms-4">
        <div>
            <hgroup class="d-inline-flex align-items-center">
                <img alt="Profile Picture" class="profile-pic img-fluid me-2" src="./theme/images/tony-slurp.jpg">
                <h1 class="flex-shrink-1">Sharundaar</h1>
            </hgroup>
            <div class="d-flex justify-content-between">
            <div>
<a class="social-link" href=".">
<svg fill="#fff" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
    width="24px" height="24px" viewBox="0 0 495.398 495.398"
    xml:space="preserve">
<g><g><g>
    <path d="M487.083,225.514l-75.08-75.08V63.704c0-15.682-12.708-28.391-28.413-28.391c-15.669,0-28.377,12.709-28.377,28.391
        v29.941L299.31,37.74c-27.639-27.624-75.694-27.575-103.27,0.05L8.312,225.514c-11.082,11.104-11.082,29.071,0,40.158
        c11.087,11.101,29.089,11.101,40.172,0l187.71-187.729c6.115-6.083,16.893-6.083,22.976-0.018l187.742,187.747
        c5.567,5.551,12.825,8.312,20.081,8.312c7.271,0,14.541-2.764,20.091-8.312C498.17,254.586,498.17,236.619,487.083,225.514z"/>
    <path d="M257.561,131.836c-5.454-5.451-14.285-5.451-19.723,0L72.712,296.913c-2.607,2.606-4.085,6.164-4.085,9.877v120.401
        c0,28.253,22.908,51.16,51.16,51.16h81.754v-126.61h92.299v126.61h81.755c28.251,0,51.159-22.907,51.159-51.159V306.79
        c0-3.713-1.465-7.271-4.085-9.877L257.561,131.836z"/>
    </g></g></g>
</svg>
</a>            </div>
            <div class="m-0">
<div id="sidebar-social-link" class="d-flex">
    <a class="social-link" href="https://bsky.app/profile/sharundaar.bsky.social" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg width="100%" height="100%" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><path d="M20.4,0c1.988,0 3.6,1.612 3.6,3.6l-0,16.8c-0,1.988 -1.612,3.6 -3.6,3.6l-16.8,-0c-1.988,-0 -3.6,-1.612 -3.6,-3.6l-0,-16.8c0,-1.988 1.612,-3.6 3.6,-3.6l16.8,-0Z" style="fill:#fff;"/><clipPath id="_clip1"><path d="M20.4,0c1.988,0 3.6,1.612 3.6,3.6l-0,16.8c-0,1.988 -1.612,3.6 -3.6,3.6l-16.8,-0c-1.988,-0 -3.6,-1.612 -3.6,-3.6l-0,-16.8c0,-1.988 1.612,-3.6 3.6,-3.6l16.8,-0Z"/></clipPath><g clip-path="url(#_clip1)"><path d="M12,11.006c-0.9,-1.75 -3.35,-5.012 -5.628,-6.62c-2.183,-1.54 -3.015,-1.274 -3.561,-1.026c-0.631,0.284 -0.747,1.254 -0.747,1.824c0,0.571 0.313,4.678 0.517,5.364c0.675,2.266 3.074,3.031 5.285,2.785c0.113,-0.016 0.228,-0.032 0.344,-0.046c-0.115,0.018 -0.229,0.033 -0.344,0.046c-3.239,0.481 -6.116,1.661 -2.343,5.861c4.15,4.297 5.688,-0.922 6.477,-3.567c0.789,2.645 1.697,7.676 6.403,3.567c3.533,-3.567 0.97,-5.38 -2.269,-5.861c-0.115,-0.012 -0.229,-0.028 -0.344,-0.046c0.116,0.014 0.231,0.03 0.344,0.046c2.211,0.246 4.61,-0.519 5.285,-2.785c0.204,-0.685 0.517,-4.794 0.517,-5.363c-0,-0.572 -0.116,-1.541 -0.747,-1.827c-0.546,-0.247 -1.378,-0.513 -3.561,1.027c-2.278,1.61 -4.728,4.872 -5.628,6.621Z" style="fill:#3088d4;fill-rule:nonzero;"/></g></svg>
    </a>
    <a class="social-link" href="https://github.com/Sharundaar" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="GitHub" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
    </a>
    <a class="social-link" href="https://mastodon.gamedev.place/@Sharundaar" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="Mastodon" role="img" viewBox="0 0 512 512" fill="#fff"><rect width="512" height="512" rx="15%"/><path d="m409 290c-5 24-43 50-85 56-86 11-137-6-137-6 3 13-4 54 70 52 31 0 58-7 58-7l2 27c-51 24-107 15-140 6-67-17-79-90-81-162v-59c0-74 49-96 49-96 50-24 180-22 222 0 0 0 49 22 49 96 0 0 1 55-7 93" fill="#3088d4"/><path d="m358 202v91h-35v-88c0-18-8-27-23-27-18 0-27 11-27 33v47h-34v-47c0-22-9-33-27-33-15 0-23 9-23 27v88h-35v-91c0-18 5-60 52-60 39 0 50 37 50 37s10-37 50-37c45 0 52 42 52 60"/></svg>
    </a>
</div>
            </div>
            </div>
        </div>
        <nav>
            <ul class="list-unstyled ps-0 pt-4">
  <li class="mb-1">
    <div id="toc"><ul class="list-unstyled mb-1"><li class="btn-toggle-nav mb-1 nav-item"><a class="link-body-emphasis d-inline-flex text-decoration-none rounded nav-link ms-0 fs-4" href="#initial-setup" title="Initial Setup">Initial Setup</a></li><li class="btn-toggle-nav mb-1 nav-item"><a class="link-body-emphasis d-inline-flex text-decoration-none rounded nav-link ms-0 fs-4" href="#a-very-simple-window" title="A Very Simple Window">A Very Simple Window</a></li><li class="btn-toggle-nav mb-1 nav-item"><a class="link-body-emphasis d-inline-flex text-decoration-none rounded nav-link ms-0 fs-4" href="#interacting-with-our-window" title="Interacting with our Window">Interacting with our Window</a></li><li class="btn-toggle-nav mb-1 nav-item"><a class="link-body-emphasis d-inline-flex text-decoration-none rounded nav-link ms-0 fs-4" href="#back-to-our-hello-world" title="Back to our Hello World">Back to our Hello World</a></li><li class="btn-toggle-nav mb-1 nav-item"><a class="link-body-emphasis d-inline-flex text-decoration-none rounded nav-link ms-0 fs-4" href="#bringing-up-the-demo" title="Bringing up the Demo">Bringing up the Demo</a></li><li class="btn-toggle-nav mb-1 nav-item"><a class="link-body-emphasis d-inline-flex text-decoration-none rounded nav-link ms-0 fs-4" href="#actorpicker-with-fries" title="ActorPicker with Fries">ActorPicker with Fries</a></li><li class="btn-toggle-nav mb-1 nav-item"><a class="link-body-emphasis d-inline-flex text-decoration-none rounded nav-link ms-0 fs-4" href="#the-picking" title="The Picking">The Picking</a></li><li class="btn-toggle-nav mb-1 nav-item"><a class="link-body-emphasis d-inline-flex text-decoration-none rounded nav-link ms-0 fs-4" href="#the-showing" title="The Showing">The Showing</a></li><li class="btn-toggle-nav mb-1 nav-item"><a class="link-body-emphasis d-inline-flex text-decoration-none rounded nav-link ms-0 fs-4" href="#dearimgui-ids-shenanigans" title="DearImGui IDs shenanigans">DearImGui IDs shenanigans</a></li><li class="btn-toggle-nav mb-1 nav-item"><a class="link-body-emphasis d-inline-flex text-decoration-none rounded nav-link ms-0 fs-4" href="#the-cherry-on-top" title="The Cherry on Top">The Cherry on Top</a></li><li class="btn-toggle-nav mb-1 nav-item"><a class="link-body-emphasis d-inline-flex text-decoration-none rounded nav-link ms-0 fs-4" href="#conclusion" title="Conclusion">Conclusion</a></li><li class="btn-toggle-nav mb-1 nav-item"><a class="link-body-emphasis d-inline-flex text-decoration-none rounded nav-link ms-0 fs-4" href="#annexe" title="Annexe">Annexe</a></li></ul></div>
  </div>
            </ul>
        </nav>
        </div>
    </aside>
    <main class="container overflow-auto">
      <div class="d-lg-none">
      <div class="d-flex justify-content-between align-items-center">
        <hgroup class="d-inline-flex align-items-center">
        <img alt="Profile Picture" class="profile-pic img-fluid me-2" src="./theme/images/tony-slurp.jpg">
        <h1 class="flex-shrink-1">Sharundaar</h1>
        </hgroup>
        <button class="btn btn-dark d-lg-none m-2 d-flex align-items-center justify-content-center" 
        type="button" 
        data-bs-toggle="offcanvas" 
        data-bs-target="#offcanvas-sidebar" 
        aria-controls="offcanvas-sidebar">
        <span class="navbar-toggler-icon"></span>
        </button>
      </div>
      <div class="d-flex justify-content-between">
        <div>
<a class="social-link" href=".">
<svg fill="#fff" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
    width="24px" height="24px" viewBox="0 0 495.398 495.398"
    xml:space="preserve">
<g><g><g>
    <path d="M487.083,225.514l-75.08-75.08V63.704c0-15.682-12.708-28.391-28.413-28.391c-15.669,0-28.377,12.709-28.377,28.391
        v29.941L299.31,37.74c-27.639-27.624-75.694-27.575-103.27,0.05L8.312,225.514c-11.082,11.104-11.082,29.071,0,40.158
        c11.087,11.101,29.089,11.101,40.172,0l187.71-187.729c6.115-6.083,16.893-6.083,22.976-0.018l187.742,187.747
        c5.567,5.551,12.825,8.312,20.081,8.312c7.271,0,14.541-2.764,20.091-8.312C498.17,254.586,498.17,236.619,487.083,225.514z"/>
    <path d="M257.561,131.836c-5.454-5.451-14.285-5.451-19.723,0L72.712,296.913c-2.607,2.606-4.085,6.164-4.085,9.877v120.401
        c0,28.253,22.908,51.16,51.16,51.16h81.754v-126.61h92.299v126.61h81.755c28.251,0,51.159-22.907,51.159-51.159V306.79
        c0-3.713-1.465-7.271-4.085-9.877L257.561,131.836z"/>
    </g></g></g>
</svg>
</a>        </div>
        <div class="m-0">
<div id="sidebar-social-link" class="d-flex">
    <a class="social-link" href="https://bsky.app/profile/sharundaar.bsky.social" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg width="100%" height="100%" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><path d="M20.4,0c1.988,0 3.6,1.612 3.6,3.6l-0,16.8c-0,1.988 -1.612,3.6 -3.6,3.6l-16.8,-0c-1.988,-0 -3.6,-1.612 -3.6,-3.6l-0,-16.8c0,-1.988 1.612,-3.6 3.6,-3.6l16.8,-0Z" style="fill:#fff;"/><clipPath id="_clip1"><path d="M20.4,0c1.988,0 3.6,1.612 3.6,3.6l-0,16.8c-0,1.988 -1.612,3.6 -3.6,3.6l-16.8,-0c-1.988,-0 -3.6,-1.612 -3.6,-3.6l-0,-16.8c0,-1.988 1.612,-3.6 3.6,-3.6l16.8,-0Z"/></clipPath><g clip-path="url(#_clip1)"><path d="M12,11.006c-0.9,-1.75 -3.35,-5.012 -5.628,-6.62c-2.183,-1.54 -3.015,-1.274 -3.561,-1.026c-0.631,0.284 -0.747,1.254 -0.747,1.824c0,0.571 0.313,4.678 0.517,5.364c0.675,2.266 3.074,3.031 5.285,2.785c0.113,-0.016 0.228,-0.032 0.344,-0.046c-0.115,0.018 -0.229,0.033 -0.344,0.046c-3.239,0.481 -6.116,1.661 -2.343,5.861c4.15,4.297 5.688,-0.922 6.477,-3.567c0.789,2.645 1.697,7.676 6.403,3.567c3.533,-3.567 0.97,-5.38 -2.269,-5.861c-0.115,-0.012 -0.229,-0.028 -0.344,-0.046c0.116,0.014 0.231,0.03 0.344,0.046c2.211,0.246 4.61,-0.519 5.285,-2.785c0.204,-0.685 0.517,-4.794 0.517,-5.363c-0,-0.572 -0.116,-1.541 -0.747,-1.827c-0.546,-0.247 -1.378,-0.513 -3.561,1.027c-2.278,1.61 -4.728,4.872 -5.628,6.621Z" style="fill:#3088d4;fill-rule:nonzero;"/></g></svg>
    </a>
    <a class="social-link" href="https://github.com/Sharundaar" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="GitHub" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
    </a>
    <a class="social-link" href="https://mastodon.gamedev.place/@Sharundaar" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="Mastodon" role="img" viewBox="0 0 512 512" fill="#fff"><rect width="512" height="512" rx="15%"/><path d="m409 290c-5 24-43 50-85 56-86 11-137-6-137-6 3 13-4 54 70 52 31 0 58-7 58-7l2 27c-51 24-107 15-140 6-67-17-79-90-81-162v-59c0-74 49-96 49-96 50-24 180-22 222 0 0 0 49 22 49 96 0 0 1 55-7 93" fill="#3088d4"/><path d="m358 202v91h-35v-88c0-18-8-27-23-27-18 0-27 11-27 33v47h-34v-47c0-22-9-33-27-33-15 0-23 9-23 27v88h-35v-91c0-18 5-60 52-60 39 0 50 37 50 37s10-37 50-37c45 0 52 42 52 60"/></svg>
    </a>
</div>
        </div>
      </div>
      </div>
  <article class="mb-4 mt-4">
    <header class="mb-4">
      <h1 class="mb-0">
        <a href="./leveraging-dearimgui-in-unreal.html" rel="bookmark"
           title="Permalink to Leveraging DearImGui in Unreal">
           Leveraging DearImGui in Unreal
        </a>
      </h1>
      <time datetime="2023-09-02T00:00:00-04:00">02 Sep 2023</time>
      
    </header>
    <div data-bs-spy="scroll" data-bs-target="#toc">
    <style>
table thead:first-child tr:first-child th:first-child {
    width: 33%;
}

table tbody td:last-child {
    overflow-x: auto
}
</style>
<p>If we discuss tooling, I'll invariably talk about DearImGui and how it should be an essential part of all developers tool belt. It's just the kind of lib that sets such a high standard of "it just works" that even if you don't have an immediate need, I think you should check it out. On top of that, I strongly believe that knowing about the Immediate mode style of API has some great benefits for development and writing user facing libraries, and this library is an excellent example of that style.</p>
<p>So ! What's the goal today ?</p>
<p>
<p class="text-center img-wrapper"><img alt="Default unreal projects showing some shapes, an ImGui menu bar shows some options, a window named Actor Debugger is seen in the middle showing informations about a selected Actor" class="img-fluid" src="./images/UnrealImGui/end-result.png" title="Default unreal projects showing some shapes, an ImGui menu bar shows some options, a window named Actor Debugger is seen in the middle showing informations about a selected Actor"/></p>
</p>
<p>We'll be building this small debugging tool that allows us to pick an actor in the scene with a line trace, and show some data about the Mesh components attached to it. We'll also see how to add buttons that can call arbitrary code on those components. It took me about 30 minutes to build, and we'll see how little UI code we end up needing üòÅ</p>
<p>Let's walk through the process !</p>
<div class="section" id="initial-setup">
<h2 id="initial-setup">Initial Setup</h2>
<p>First of all we need to understand that DearImGui is a completely independent library, it's meant to be plugged into any arbitrary game engine/rendering backend, and as such you can't just go on the <a href="https://github.com/ocornut/imgui">imgui github</a> and hope for it to work out of the box in Unreal. As such, in usual Unreal fashion, we want to find a plugin that already does the implementation for us !</p>
<p>Luckily there's a few, I've been using this one : <a href="https://github.com/segross/UnrealImGui">https://github.com/segross/UnrealImGui</a>, unfortunately it stopped support at Unreal 4.26, but if you look at the forks there's a lot of them that supports Unreal &gt;5.0 ! Here's two I can vouch for :</p>
<ul>
<li>IDI-Systems seems to be the most up to date : <a href="https://github.com/IDI-Systems/UnrealImGui">https://github.com/IDI-Systems/UnrealImGui</a></li>
<li>BenUI : <a href="https://github.com/benui-dev/UnrealImGui">https://github.com/benui/UnrealImGui</a></li>
</ul>
<p>Clone the repo in your Plugins folder, then you'll need to go to your .uplugin and add the following under <code>"Plugins": [</code>:</p>
<div class="highlight table-responsive"><table class="highlight table-responsivetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ImGui"</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"Enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>You'll also need to add a dependency in your <code>.build.cs</code> :</p>
<div class="highlight table-responsive"><table class="highlight table-responsivetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">PrivateDependencyModuleNames</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"ImGui"</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<p>And now we're good to go !</p>
<p>Create a file named <code>DevGuiSubsystem.h</code> and paste the following inside :</p>
<div class="highlight table-responsive"><table class="highlight table-responsivetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span><span class="w"> </span><span class="nc">UDevGuiSubsystem</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">UGameInstanceSubsystem</span><span class="p">,</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">FTickableGameObject</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">GENERATED_BODY</span><span class="p">()</span>

<span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="c1">// FTickableGameObject implementation Begin</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="n">UWorld</span><span class="o">*</span><span class="w"> </span><span class="n">GetTickableGameObjectWorld</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="k">override</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">GetWorld</span><span class="p">();</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">Tick</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">DeltaTime</span><span class="p">)</span><span class="w"> </span><span class="k">override</span><span class="p">;</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="n">TStatId</span><span class="w"> </span><span class="nf">GetStatId</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="k">override</span><span class="p">;</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="n">ETickableTickType</span><span class="w"> </span><span class="nf">GetTickableTickType</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="k">override</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">IsTemplate</span><span class="p">()</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">ETickableTickType</span><span class="o">::</span><span class="n">Never</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">ETickableTickType</span><span class="o">::</span><span class="n">Always</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">IsTickableWhenPaused</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="k">override</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="c1">// FTickableGameObject implementation End</span>

<span class="w">    </span><span class="n">UFUNCTION</span><span class="p">(</span><span class="n">BlueprintCallable</span><span class="p">)</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">ToggleImGuiInput</span><span class="p">();</span>
<span class="p">};</span>
</code></pre></div></td></tr></table></div>
<p>This gives us a very simple class that's going to have a function called every frame (<code>Tick</code>), and that's instantiated only once at runtime with a valid World (<code>GetTickableTickType</code> makes sure of that).</p>
<p>On the implementation side, create a <code>DevGuiSubsystem.cpp</code> file, and paste the following :</p>
<div class="highlight table-responsive"><table class="highlight table-responsivetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">"DevGuiSubsystem.h"</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">"ImGuiModule.h"</span>

<span class="n">UE_DISABLE_OPTIMIZATION</span>

<span class="kt">void</span><span class="w"> </span><span class="n">UDevGuiSubsystem</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">DeltaTime</span><span class="p">)</span>
<span class="p">{</span>
<span class="p">}</span>

<span class="n">TStatId</span><span class="w"> </span><span class="n">UDevGuiSubsystem</span><span class="o">::</span><span class="n">GetStatId</span><span class="p">()</span><span class="w"> </span><span class="k">const</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">RETURN_QUICK_DECLARE_CYCLE_STAT</span><span class="p">(</span><span class="n">UDevGuiSubsystem</span><span class="p">,</span><span class="w"> </span><span class="n">STATGROUP_Tickables</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="n">UDevGuiSubsystem</span><span class="o">::</span><span class="n">ToggleImGuiInput</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">FImGuiModule</span><span class="o">::</span><span class="n">Get</span><span class="p">().</span><span class="n">GetProperties</span><span class="p">().</span><span class="n">ToggleInput</span><span class="p">();</span>
<span class="p">}</span>

<span class="n">UE_ENABLE_OPTIMIZATION</span>
</code></pre></div></td></tr></table></div>
<p>And we're good to go !</p>
<p>Our job now is to fill up that Tick function full of ImGui goodness üòä</p>
</div>
<div class="section" id="a-very-simple-window">
<h2 id="a-very-simple-window">A Very Simple Window</h2>
<p>To start with, we'll be creating a simple window with a button that will print something, that will be our little Hello World to test that everything works properly üòÅ</p>
<p>Creating Windows with DearImGui is extremely simple (as is everything as we'll see):</p>
<div class="highlight table-responsive"><table class="highlight table-responsivetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">ImGui</span><span class="o">::</span><span class="n">Begin</span><span class="p">(</span><span class="s">"My Little Window :)"</span><span class="p">);</span>
<span class="n">ImGui</span><span class="o">::</span><span class="n">End</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<p>Strap that to your Tick function, and press Play in Unreal, and you'll see... A very tiny window !</p>
<p>
<p class="text-center img-wrapper"><img alt="A very tiny imgui window" class="img-fluid" src="./images/UnrealImGui/the-little-window-that-could.png" title="A very tiny imgui window"/></p>
</p>
<p>Without any more input on our part, DearImGui will instantiate new windows with enough size to display their content, since we don't have any content in our case, the window is very tiny ! Luckily default windows are rezisable, which makes this a good time to talk about interacting with the UI üòä</p>
</div>
<div class="section" id="interacting-with-our-window">
<h2 id="interacting-with-our-window">Interacting with our Window</h2>
<p>If you picked the plugin above, it should automatically register the Unreal command <code>ImGui.ToggleInput</code>. This command make sure the cursor is shown, and that the inputs are routed to the ImGui context. Just type that in the game console and you should now have a cursor !</p>
<p>Alternatively it's also a good place to use our little <code>UFUNCTION</code> to bind it to some keyboard shortcut. Since I'm just in a demo scene I'll be hardcoding the F10 key in my level blueprint (do NOT do this in production üò¨)</p>
<p>
<p class="text-center img-wrapper"><img alt="My demo level blueprint, showing an F10 node linked to the ToggleImGuiInput function call we created in the DevGui class" class="img-fluid" src="./images/UnrealImGui/level-blueprint.png" title="My demo level blueprint, showing an F10 node linked to the ToggleImGuiInput function call we created in the DevGui class"/></p>
</p>
<p>If everything went well, you should now be able to drag the bottom right corner of our window and resize it, showing the title and deep emptyness in all its glory !</p>
<p>
<p class="text-center img-wrapper"><img alt="Our tiny window, showing it's non-content in all its glory" class="img-fluid" src="./images/UnrealImGui/the-big-window-that-can.png" title="Our tiny window, showing it's non-content in all its glory"/></p>
</p>
</div>
<div class="section" id="back-to-our-hello-world">
<h2 id="back-to-our-hello-world">Back to our Hello World</h2>
<p>We have a window, we don't have CONTENT, how to fix that ?</p>
<p>The way DearImGui work, you can add content to a window by making <code>ImGui::</code> calls in between those two <code>Begin/End</code> functions, the library will automatically take care of layouting your elements for you (vertically by default). The library comes with a lot of widgets - some would say an insane amount ! Luckily it's extremely well documented, and comes with an easily searchable and debuggable demo, we'll be opening it later to see. For now let's finish our Hello World.</p>
<p>The function we want to call is <code>void ImGui::Text(const char* fmt, ...);</code> ! It display a simple Text box with the content you want, it's written with the classical <code>fmt, ...</code> that you'll find in the <code>printf</code> family of functions, so we're right at home here ‚ò∫</p>
<p>You're code should look like this :</p>
<div class="highlight table-responsive"><table class="highlight table-responsivetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">ImGui</span><span class="o">::</span><span class="n">Begin</span><span class="p">(</span><span class="s">"My Little Window :)"</span><span class="p">);</span>
<span class="n">ImGui</span><span class="o">::</span><span class="n">Text</span><span class="p">(</span><span class="s">"Hello, world !"</span><span class="p">);</span>
<span class="n">ImGui</span><span class="o">::</span><span class="n">End</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<p>Aaaand, we're done ? üòÆ</p>
<p>With 3 simple lines of work, we have a full window, and a text block that can display any arbitrary text we want ? Dark magic I tell you.</p>
<p>
<p class="text-center img-wrapper"><img alt="Our window full of CONTENT" class="img-fluid" src="./images/UnrealImGui/successful-hello-world.png" title="Our window full of CONTENT"/></p>
</p>
<p>You want some proof we can just show any arbitrary thing ? Well just write this :</p>
<div class="highlight table-responsive"><table class="highlight table-responsivetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">ImGui</span><span class="o">::</span><span class="n">Begin</span><span class="p">(</span><span class="s">"My Little Window :)"</span><span class="p">);</span>
<span class="n">ImGui</span><span class="o">::</span><span class="n">Text</span><span class="p">(</span><span class="s">"Hello, world !"</span><span class="p">);</span>
<span class="n">ImGui</span><span class="o">::</span><span class="n">Text</span><span class="p">(</span><span class="s">"We're inside: %ls"</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">GetName</span><span class="p">());</span>
<span class="n">FVector</span><span class="w"> </span><span class="n">CameraPos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UGameplayStatics</span><span class="o">::</span><span class="n">GetPlayerCameraManager</span><span class="p">(</span><span class="n">GetWorld</span><span class="p">(),</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">GetCameraLocation</span><span class="p">();</span>
<span class="n">ImGui</span><span class="o">::</span><span class="n">Text</span><span class="p">(</span><span class="s">"Camera Position: %.2f %.2f %.2f"</span><span class="p">,</span><span class="w"> </span><span class="n">CameraPos</span><span class="p">.</span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="n">CameraPos</span><span class="p">.</span><span class="n">Y</span><span class="p">,</span><span class="w"> </span><span class="n">CameraPos</span><span class="p">.</span><span class="n">Z</span><span class="p">);</span>
<span class="n">ImGui</span><span class="o">::</span><span class="n">End</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<p>And here we go, very simple, very straightforward, perfect for immediate information üòä</p>
<p>
<p class="text-center img-wrapper"><img alt="Our window full of EVEN MORE CONTENT" class="img-fluid" src="./images/UnrealImGui/window-with-camera-position.png" title="Our window full of EVEN MORE CONTENT"/></p>
</p>
<p>Alright ! At this point I think it's good to talk about the Demo !</p>
</div>
<div class="section" id="bringing-up-the-demo">
<h2 id="bringing-up-the-demo">Bringing up the Demo</h2>
<p>ImGui comes with a full demo of all its features, very easy to search, very easy to copy code from. You'll find its code in <a href="https://github.com/ocornut/imgui/blob/master/imgui_demo.cpp">imgui_demo.cpp</a>, and to show it you just have to call <code>ImGui::ShowDemoWindow( &amp;bOpenDemo )</code> ! What's that <code>bOpenDemo</code> you say ? Well it's part of a very common technique to easily spin up ImGui windows without too much fuss that relies on local static variables to persist states :)</p>
<p>A fundamental philosophy of ImGui is that you provide all the external parameters of a widget directly at the callsite, this allows us to construct fairly complex UIs with no setup code (we don't retain any information about the widget state), and as a result we need to do fairly little book keeping to make the widgets behave like we want.</p>
<p>Here the <code>ShowDemoWindow</code> function is expecting a boolean (that it might modify, hence the ptr), that will tell it if it's open or not. We have to store this boolean on our side, you can do it any way you like (member variable, global variable, local static), but I'll show you a way that makes sense for quick prototypes.</p>
<p>Paste the following code outside of your hello world window (make sure you're before the <code>Begin</code>, or past the <code>End</code> !) :</p>
<div class="highlight table-responsive"><table class="highlight table-responsivetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">bShowDemo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="k">if</span><span class="p">(</span><span class="n">bShowDemo</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">ImGui</span><span class="o">::</span><span class="n">ShowDemoWindow</span><span class="p">(</span><span class="o">&amp;</span><span class="n">bShowDemo</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>Now if you press play, you should see the Demo window show up :)</p>
<p>
<p class="text-center img-wrapper"><img alt="The beautiful ImGui Demo window" class="img-fluid" src="./images/UnrealImGui/imgui-demo.png" title="The beautiful ImGui Demo window"/></p>
</p>
<p>Alright ! Play around with it, check all the beautiful and functional widgets available, compare the widget behavior with code in <a href="https://github.com/ocornut/imgui/blob/master/imgui_demo.cpp">imgui_demo.cpp</a> (search for strings you see in the UI !)</p>
<p>You'll see that, although the demo window is fairly complex, the actual DearImGui code is relatively simple :) That's one of the big advantages right here, spin up complex UI with relatively little code (try to make an equivalent window in Slate/UMG or any other UI package).</p>
<h3>Bonus Round</h3>
<p>Can you try to add a button to the Hello World window that will toggle the demo window ? Searching in imgui_demo for how to use specific widgets is a core part of using this library, so if you manage to do it by yourself at this point, you're good to go for any debugging tool you want !</p>
<p>You can jump to the answer here : <a href="#toggle-demo-window-code">Jump to answer</a></p>
</div>
<div class="section" id="actorpicker-with-fries">
<h2 id="actorpicker-with-fries">ActorPicker with Fries</h2>
<p>Ok ! Let's get serious, at this point you should be familiarized with the ImGui library, but we haven't really dealt with Unreal itself. As you start using the lib you'll find some small pain points, mainly due to the usage of UTF16 in Unreal which makes it hard to just send FStrings to the usual calls. In this section we'll build a debugging window with a features that should cover a few things about those interactions, and how to set them up properly.</p>
<p>Let me remind you of the goal ! We'll be making a small window that allows us to pick an actor, show some data, and make a button to interact with that actor üòä</p>
<p>
<p class="text-center img-wrapper"><img alt="Image of the actor debugger we're going to build" class="img-fluid" src="./images/UnrealImGui/actor-debugger.png" title="Image of the actor debugger we're going to build"/></p>
</p>
</div>
<div class="section" id="the-picking">
<h2 id="the-picking">The Picking</h2>
<p>First we want to show a window, with a button that allows us to enter a 'pick mode', while in this mode we'll throw line trace through the screen, and if we hit an actor we'll store it in a local variable so we can draw informations about it later !</p>
<p>Let's make the window, the button and some variables for book keeping :</p>
<div class="highlight table-responsive"><table class="highlight table-responsivetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">static</span><span class="w"> </span><span class="n">TWeakObjectPtr</span><span class="o">&lt;</span><span class="n">AActor</span><span class="o">&gt;</span><span class="w"> </span><span class="n">PickedActor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">nullptr</span><span class="p">;</span>
<span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">bIsPickingActor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>

<span class="n">ImGui</span><span class="o">::</span><span class="n">Begin</span><span class="p">(</span><span class="s">"Actor Debugger"</span><span class="p">);</span>
<span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">ButtonTitle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bIsPickingActor</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">"Stop Picking"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">"Start Picking"</span><span class="p">;</span>
<span class="k">if</span><span class="p">(</span><span class="n">ImGui</span><span class="o">::</span><span class="n">Button</span><span class="p">(</span><span class="n">ButtonTitle</span><span class="p">))</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">bIsPickingActor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">!</span><span class="n">bIsPickingActor</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">ImGui</span><span class="o">::</span><span class="n">End</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<p>Simple enough ? We're making a window, adding a button, and swap the button title depending on <code>bIsPickingActor</code> ! If you worked with Slate here you would already have created 2 files and passed some variable around :)</p>
<p>From there, we want to fill up <code>PickedActor</code> ! Next part is only Unreal code (well.. almost, I left a surprise at the end) :</p>
<div class="highlight table-responsive"><table class="highlight table-responsivetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">UWorld</span><span class="o">*</span><span class="w"> </span><span class="n">World</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GEngine</span><span class="o">-&gt;</span><span class="n">GetWorldFromContextObject</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">EGetWorldErrorMode</span><span class="o">::</span><span class="n">LogAndReturnNull</span><span class="p">);</span>
<span class="n">ULocalPlayer</span><span class="o">*</span><span class="w"> </span><span class="n">LP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">World</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">World</span><span class="o">-&gt;</span><span class="n">GetFirstLocalPlayerFromController</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">nullptr</span><span class="p">;</span>
<span class="k">if</span><span class="p">(</span><span class="n">bIsPickingActor</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">LP</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">LP</span><span class="o">-&gt;</span><span class="n">ViewportClient</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// get the projection data</span>
<span class="w">        </span><span class="n">FSceneViewProjectionData</span><span class="w"> </span><span class="n">ProjectionData</span><span class="p">;</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">LP</span><span class="o">-&gt;</span><span class="n">GetProjectionData</span><span class="p">(</span><span class="n">LP</span><span class="o">-&gt;</span><span class="n">ViewportClient</span><span class="o">-&gt;</span><span class="n">Viewport</span><span class="p">,</span><span class="w"> </span><span class="n">ProjectionData</span><span class="p">))</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="n">ImVec2</span><span class="w"> </span><span class="n">ScreenPosImGui</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ImGui</span><span class="o">::</span><span class="n">GetMousePos</span><span class="p">();</span><span class="w"> </span><span class="c1">// &lt;-- Get the current mouse position !</span>
<span class="w">            </span><span class="n">FVector2D</span><span class="w"> </span><span class="n">ScreenPos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">ScreenPosImGui</span><span class="p">.</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">ScreenPosImGui</span><span class="p">.</span><span class="n">y</span><span class="p">};</span>

<span class="w">            </span><span class="n">FMatrix</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">InvViewProjMatrix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ProjectionData</span><span class="p">.</span><span class="n">ComputeViewProjectionMatrix</span><span class="p">().</span><span class="n">InverseFast</span><span class="p">();</span>

<span class="w">            </span><span class="n">FVector</span><span class="w"> </span><span class="n">WorldPosition</span><span class="p">,</span><span class="w"> </span><span class="n">WorldDirection</span><span class="p">;</span>
<span class="w">            </span><span class="n">FSceneView</span><span class="o">::</span><span class="n">DeprojectScreenToWorld</span><span class="p">(</span><span class="n">ScreenPos</span><span class="p">,</span><span class="w"> </span><span class="n">ProjectionData</span><span class="p">.</span><span class="n">GetConstrainedViewRect</span><span class="p">(),</span><span class="w"> </span><span class="n">InvViewProjMatrix</span><span class="p">,</span><span class="w"> </span><span class="n">WorldPosition</span><span class="p">,</span><span class="w"> </span><span class="n">WorldDirection</span><span class="p">);</span>

<span class="w">            </span><span class="n">FCollisionQueryParams</span><span class="w"> </span><span class="n">Params</span><span class="p">(</span><span class="s">"DevGuiActorPickerTrace"</span><span class="p">,</span><span class="w"> </span><span class="n">SCENE_QUERY_STAT_ONLY</span><span class="p">(</span><span class="n">UDevGuiSubsystem</span><span class="p">),</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>

<span class="w">            </span><span class="n">FCollisionObjectQueryParams</span><span class="w"> </span><span class="nf">ObjectParams</span><span class="p">(</span>
<span class="w">                    </span><span class="n">ECC_TO_BITFIELD</span><span class="p">(</span><span class="n">ECC_WorldStatic</span><span class="p">)</span>
<span class="w">                    </span><span class="o">|</span><span class="w"> </span><span class="n">ECC_TO_BITFIELD</span><span class="p">(</span><span class="n">ECC_WorldDynamic</span><span class="p">)</span>
<span class="w">                    </span><span class="o">|</span><span class="w"> </span><span class="n">ECC_TO_BITFIELD</span><span class="p">(</span><span class="n">ECC_Pawn</span><span class="p">)</span>
<span class="w">                    </span><span class="o">|</span><span class="w"> </span><span class="n">ECC_TO_BITFIELD</span><span class="p">(</span><span class="n">ECC_PhysicsBody</span><span class="p">)</span>
<span class="w">            </span><span class="p">);</span>

<span class="w">            </span><span class="n">PickedActor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">nullptr</span><span class="p">;</span><span class="w"> </span><span class="c1">// &lt;-- Reset the actor</span>
<span class="w">            </span><span class="n">FHitResult</span><span class="w"> </span><span class="n">OutHit</span><span class="p">;</span>
<span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">World</span><span class="o">-&gt;</span><span class="n">LineTraceSingleByObjectType</span><span class="p">(</span><span class="w"> </span><span class="c1">// &lt;-- Actually doing the trace</span>
<span class="w">                    </span><span class="n">OutHit</span><span class="p">,</span>
<span class="w">                    </span><span class="n">WorldPosition</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">WorldDirection</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span>
<span class="w">                    </span><span class="n">WorldPosition</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">WorldDirection</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">10000.0</span><span class="p">,</span>
<span class="w">                    </span><span class="n">ObjectParams</span><span class="p">,</span>
<span class="w">                    </span><span class="n">Params</span><span class="p">))</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="n">PickedActor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">OutHit</span><span class="p">.</span><span class="n">GetActor</span><span class="p">();</span><span class="w"> </span><span class="c1">// &lt;-- Set on hit !</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span><span class="o">/</span>

<span class="w">    </span><span class="c1">// Exiting Actor Picking mode if we click the Left button !</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">ImGui</span><span class="o">::</span><span class="n">IsMouseClicked</span><span class="p">(</span><span class="n">ImGuiMouseButton_Left</span><span class="p">))</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">bIsPickingActor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>That's a big code splat üòä But take your time, read through it, at the end of the day there's no UI code in there, only standard unreal line tracing rituals. Right at the end you can see that we're exiting actor picking mode in a very straightforward way, we just ask ImGui if the left button is clicked, and we're setting our boolean to false ! All the mouse state tracking is done in ImGui's backend.</p>
<p>Ok ! You can put a breakpoint at the <code>PickedActor =</code> line to check if you're actually hitting something ! But we have a UI toolset, why not just display it ?</p>
</div>
<div class="section" id="the-showing">
<h2 id="the-showing">The Showing</h2>
<p>Let's start simple, let's just show the actor's name :)</p>
<div class="highlight table-responsive"><table class="highlight table-responsivetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="cm">/* {...} our picking code here */</span>

<span class="k">if</span><span class="p">(</span><span class="n">AActor</span><span class="o">*</span><span class="w"> </span><span class="n">Actor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PickedActor</span><span class="p">.</span><span class="n">Get</span><span class="p">())</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">ImGui</span><span class="o">::</span><span class="n">Text</span><span class="p">(</span><span class="s">"Picked actor: %ls"</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">Actor</span><span class="o">-&gt;</span><span class="n">GetName</span><span class="p">());</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>
<p class="text-center img-wrapper"><img alt="We picked a Table" class="img-fluid" src="./images/UnrealImGui/picked-table.png" title="We picked a Table"/></p>
</p>
<p>It doesn't look like much ! But we've got the basis of a very powerful tool right there ! We now have full access to any arbitrary AActor pointers in the scene, we can make some UI to display and change any properties, show component information, and if you're feeling courageous, even mirror any actor changes to the default class üòä</p>
<p>But let's continue with the plan. Now  we want to list the attached static mesh component, show some information about them, and if we have physics enable, add a button to create a push force to interact live with the scene !</p>
<p>To list all attached component we'll be using the <code>ForEachComponent</code> function :</p>
<div class="highlight table-responsive"><table class="highlight table-responsivetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">Actor</span><span class="o">-&gt;</span><span class="n">ForEachComponent</span><span class="o">&lt;</span><span class="n">UStaticMeshComponent</span><span class="o">&gt;</span><span class="p">(</span><span class="nb">true</span><span class="p">,</span><span class="w"> </span><span class="p">[](</span><span class="n">UStaticMeshComponent</span><span class="o">*</span><span class="w"> </span><span class="n">Mesh</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Our ImGui code here</span>
<span class="p">});</span>
</code></pre></div></td></tr></table></div>
<p>The ImGui widgets we'll need are <code>ImGui::CollapsingHeader</code>, <code>ImGui::Button</code>, <code>ImGui::Text</code>. We'll also need to use 2 helpers for a reason I'll explain later : <code>ImGui::PushID</code>, and <code>ImGui::PopID</code>.</p>
<p>Let's do it.</p>
<p>We'll want to display the component name in the collapsing header, to do so we'll use <code>Mesh-&gt;GetName()</code>, sadly you'll notice that this function returns an <code>FString</code> which, at least on Windows, are encoded as UTF16 strings. Meaning you'll get some 16 bits <code>TCHAR*</code> instead of the standard 8 bits <code>char*</code> that ImGui expects. Luckily there's a straightforward conversion scheme that allows us to go from one to the other :)  </p>
<div class="highlight table-responsive"><table class="highlight table-responsivetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// We're planning on reusing the name, so let's store the cast result.</span>
<span class="k">auto</span><span class="w"> </span><span class="n">NameANSI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StringCast</span><span class="o">&lt;</span><span class="n">ANSICHAR</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="n">Mesh</span><span class="o">-&gt;</span><span class="n">GetName</span><span class="p">());</span>
<span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">Name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NameANSI</span><span class="p">.</span><span class="n">Get</span><span class="p">();</span>

<span class="c1">// This if you're just doing it once (yes, it is a mouthful)</span>
<span class="n">ImGui</span><span class="o">::</span><span class="n">CollapsingHeader</span><span class="p">(</span><span class="n">StringCast</span><span class="o">&lt;</span><span class="n">ANSICHAR</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="n">Mesh</span><span class="o">-&gt;</span><span class="n">GetName</span><span class="p">()).</span><span class="n">Get</span><span class="p">());</span>
</code></pre></div></td></tr></table></div>
<p>Perfect ! We can easily convert <code>FString</code> to the needed <code>const char*</code>. Let's setup our header and add some content ! We'll be showing the mesh name, and if it's Nanite enabled.</p>
<div class="highlight table-responsive"><table class="highlight table-responsivetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">auto</span><span class="w"> </span><span class="n">NameANSI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StringCast</span><span class="o">&lt;</span><span class="n">ANSICHAR</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="n">Mesh</span><span class="o">-&gt;</span><span class="n">GetName</span><span class="p">());</span>
<span class="k">if</span><span class="p">(</span><span class="n">ImGui</span><span class="o">::</span><span class="n">CollapsingHeader</span><span class="p">(</span><span class="n">NameANSI</span><span class="p">.</span><span class="n">Get</span><span class="p">(),</span><span class="w"> </span><span class="n">ImGuiTreeNodeFlags_DefaultOpen</span><span class="p">))</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">StaticMesh</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Mesh</span><span class="o">-&gt;</span><span class="n">GetStaticMesh</span><span class="p">())</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">ImGui</span><span class="o">::</span><span class="n">Text</span><span class="p">(</span><span class="s">"Mesh name: %ls"</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">StaticMesh</span><span class="o">-&gt;</span><span class="n">GetName</span><span class="p">());</span>
<span class="w">        </span><span class="n">ImGui</span><span class="o">::</span><span class="n">Text</span><span class="p">(</span><span class="s">"Nanite Enabled: %s"</span><span class="p">,</span><span class="w"> </span><span class="n">StaticMesh</span><span class="o">-&gt;</span><span class="n">NaniteSettings</span><span class="p">.</span><span class="n">bEnabled</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">"true"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">"false"</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>Note that I'm using the <code>%ls</code> modifier to print <code>TCHAR*</code> and <code>%s</code> for <code>char*</code>.</p>
<p>Simple enough !</p>
<p>Alright last part, we want to add a button that, when clicked, send a force to the static mesh to make it jump. To test this out I made a simple Actor with 3 static meshes set as Movable and with gravity enabled. The <code>AddForce</code> function will work for us here.</p>
<p>
<p class="text-center img-wrapper"><img alt="Our actor with 3 static meshes, set with gravity enabled" class="img-fluid" src="./images/UnrealImGui/three-shapes-actor.png" title="Our actor with 3 static meshes, set with gravity enabled"/></p>
</p>
<p>With that added in our scene, we just need the following code !</p>
<div class="highlight table-responsive"><table class="highlight table-responsivetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">if</span><span class="p">(</span><span class="n">Mesh</span><span class="o">-&gt;</span><span class="n">IsSimulatingPhysics</span><span class="p">())</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">ImGui</span><span class="o">::</span><span class="n">Button</span><span class="p">(</span><span class="s">"Add Vertical Force"</span><span class="p">))</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">Mesh</span><span class="o">-&gt;</span><span class="n">AddForce</span><span class="p">(</span><span class="n">FVector</span><span class="p">{</span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">50000.0</span><span class="p">},</span><span class="w"> </span><span class="n">NAME_None</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>And we're done ! We now have a simple interface, that loops over the static mesh components of the actor we line traced, displays some arbitrary information, and on top of that we have a very simple interactive element to trigger effects on that Actor !</p>
<p>
<p class="text-center img-wrapper"><img alt="The actor debugger with a new 'Add Vertical Force' button" class="img-fluid" src="./images/UnrealImGui/add-vertical-force-button.png" title="The actor debugger with a new 'Add Vertical Force' button"/></p>
</p>
<p>Yay ! If you click the first button it should work perfectly, but if you click the other ones... You might find them broken üò¨ Why is that ?</p>
</div>
<div class="section" id="dearimgui-ids-shenanigans">
<h2 id="dearimgui-ids-shenanigans">DearImGui IDs shenanigans</h2>
<p>So here we need to dig a <em>tiny</em> bit into how DearImGui works behind. When you generate widgets, especially ones with frame-over-frame interactions (like a button answering a click), ImGui stores temporal states about widgets in a table, think stuff like "has the user started a click on this button", "is this list element selected", any info that can't be immediately deduced from the current frame state. For ImGui to track that data between each frame, it tries to generate a unique ID per widget from infos available at the call site. In the case of a button (and in fact everything in DearImGui), you're passing a string that labels the item ! So DearImGui yonks that, hashes it as a 64 bits ID, and use that as a key.</p>
<p>If it were only doing that though, you would quickly be annoyed as you'd build other views with buttons with the same name and them not working... To solve this ImGui also rehash that 64 bits ID with an ID stack, each window has it's own stack, and various widgets push and pops from this stack. So in our case, our buttons are all generated with the same ID stack and the same label, so their IDs ends up the same ! To solve this we can either change the label, or modify the ID stack so when the widget key is generated, it's unique.</p>
<p>Here's both solutions in action in an Unreal pedantic way:</p>
<div class="highlight table-responsive"><table class="highlight table-responsivetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Modify the ID Stack with our little category name</span>
<span class="n">ImGui</span><span class="o">::</span><span class="n">PushID</span><span class="p">(</span><span class="n">NameANSI</span><span class="p">.</span><span class="n">Get</span><span class="p">());</span>
<span class="k">if</span><span class="p">(</span><span class="n">Mesh</span><span class="o">-&gt;</span><span class="n">IsSimulatingPhysics</span><span class="p">())</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">ImGui</span><span class="o">::</span><span class="n">Button</span><span class="p">(</span><span class="s">"Add Vertical Force"</span><span class="p">))</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">Mesh</span><span class="o">-&gt;</span><span class="n">AddForce</span><span class="p">(</span><span class="n">FVector</span><span class="p">{</span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">50000.0</span><span class="p">},</span><span class="w"> </span><span class="n">NAME_None</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
<span class="n">ImGui</span><span class="o">::</span><span class="n">PopID</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<div class="highlight table-responsive"><table class="highlight table-responsivetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Change the button label, anything after ## isn't displayed so we can use that for ID unicity</span>
<span class="k">if</span><span class="p">(</span><span class="n">Mesh</span><span class="o">-&gt;</span><span class="n">IsSimulatingPhysics</span><span class="p">())</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">FString</span><span class="w"> </span><span class="n">ButtonLabel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FString</span><span class="o">::</span><span class="n">Printf</span><span class="p">(</span><span class="n">TEXT</span><span class="p">(</span><span class="s">"Add Vertical Force##%s"</span><span class="p">),</span><span class="w"> </span><span class="n">NameANSI</span><span class="p">.</span><span class="n">Get</span><span class="p">());</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">ImGui</span><span class="o">::</span><span class="n">Button</span><span class="p">(</span><span class="n">TCHAR_TO_UTF8</span><span class="p">(</span><span class="o">*</span><span class="n">ButtonLabel</span><span class="p">)))</span><span class="w"> </span><span class="c1">// TCHAR_TO_UTF8 is equivalent to StringCast we did before</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">Mesh</span><span class="o">-&gt;</span><span class="n">AddForce</span><span class="p">(</span><span class="n">FVector</span><span class="p">{</span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">50000.0</span><span class="p">},</span><span class="w"> </span><span class="n">NAME_None</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>Which method you prefer will depend on your specific context, but they're both good to know about üòÑ</p>
<p>And we're done ! With this we have a nice debugging UI that allows us to pick arbitrary actors in a scene and display any information we want. There's a lot more we can do but this is just a simple demo of what's possible.</p>
</div>
<div class="section" id="the-cherry-on-top">
<h2 id="the-cherry-on-top">The Cherry on Top</h2>
<p>We have a debugger, the demo window, a little hello world. As you start developing more tools you might wonder: How to organize everything ? Enter the Main Menu Bar.</p>
<p>It's a simple tool bar DearImGui proposes that shows at the top of the screen. You can push buttons, text, sub-menus... anything really, to that menu bar. So let's set that up !</p>
<p>At the end of your Tick function, write the following :</p>
<div class="highlight table-responsive"><table class="highlight table-responsivetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">static</span><span class="w"> </span><span class="n">bActorDebuggerOpened</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// @TODO: Use this to control the actor debugger visibility !</span>

<span class="c1">// Only show the bars if we have ImGui inputs enabled</span>
<span class="k">if</span><span class="p">(</span><span class="n">FImGuiModule</span><span class="o">::</span><span class="n">Get</span><span class="p">().</span><span class="n">GetProperties</span><span class="p">().</span><span class="n">IsInputEnabled</span><span class="p">())</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">ImGui</span><span class="o">::</span><span class="n">BeginMainMenuBar</span><span class="p">())</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">ImGui</span><span class="o">::</span><span class="n">Text</span><span class="p">(</span><span class="s">"Website Support"</span><span class="p">);</span>

<span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">ImGui</span><span class="o">::</span><span class="n">BeginMenu</span><span class="p">(</span><span class="s">"Actor Debugger"</span><span class="p">))</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">ImGui</span><span class="o">::</span><span class="n">MenuItem</span><span class="p">(</span><span class="s">"Toggle Actor Debugger"</span><span class="p">))</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="n">bActorDebuggerOpened</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">!</span><span class="n">bActorDebuggerOpened</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="n">ImGui</span><span class="o">::</span><span class="n">EndMenu</span><span class="p">();</span><span class="w">   </span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">ImGui</span><span class="o">::</span><span class="n">EndMainMenuBar</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">ImGui</span><span class="o">::</span><span class="n">BeginMainMenuBar</span><span class="p">())</span><span class="w"> </span><span class="c1">// BeginMainMenuBar calls append to the bar ! So we can set it up in multiple chunks</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">ImGui</span><span class="o">::</span><span class="n">BeginMenu</span><span class="p">(</span><span class="s">"ImGui Misc"</span><span class="p">))</span><span class="w"> </span><span class="c1">// Creating a sub-menu</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">ImGui</span><span class="o">::</span><span class="n">MenuItem</span><span class="p">(</span><span class="s">"Toggle Demo"</span><span class="p">))</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="n">bShowDemo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">!</span><span class="n">bShowDemo</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="n">ImGui</span><span class="o">::</span><span class="n">EndMenu</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="n">ImGui</span><span class="o">::</span><span class="n">EndMainMenuBar</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>And if you enable ImGui's inputs it should show more or less like this :</p>
<p>
<p class="text-center img-wrapper"><img alt="The magnificient main menu bar, with sub menus !" class="img-fluid" src="./images/UnrealImGui/main-menu-bar.png" title="The magnificient main menu bar, with sub menus !"/></p>
</p>
<p>I'm leaving the toggle hello world window as en exercise to the reader üòä</p>
</div>
<div class="section" id="conclusion">
<h2 id="conclusion">Conclusion</h2>
<p>Hopefully you can see how easy and quick we can now develop visualization and debugging tool ! In everything we've written the actual UI code comprised very little, and that's one of the biggest strength of DearImGui, it doesn't get in the way ! From there don't hesitate to just read <a href="https://github.com/ocornut/imgui/blob/master/imgui.h">imgui.h</a> and spend time getting familiar with the imgui demo. You'll find a lot of interesting and useful widgets are available üòä</p>
<p>You can find the complete code we've written here : </p>
<ul>
<li><a href="./code/DevGuiSubsystem.cpp">DevGuiSubsystem.cpp</a></li>
<li><a href="./code/DevGuiSubsystem.h">DevGuiSubsystem.h</a></li>
</ul>
</div>
<div class="section" id="annexe">
<h2 id="annexe">Annexe</h2>
<h3>DearImGui or ImGui</h3>
<p>In this article, I've <em>tried</em> to refer to the lib as DearImGui most of the time. If you look online, the term ImGui kinda became ubiquitous with this lib (for good reasons), but ImGui actually refers to Immediate GUI, which is a UI API paradigm opposed to Retained UI.</p>
<p>Retained UI would be your more standard UI library, like UMG/Slate, Windows Form, Qt. The main characteristic is that the UI data book keeping responsability is put in the hand of the user of the library. You have to instantiate stuff (with SNew calls, or NewObject), keep pointers around, check internal states for response...  This generally results in very bloated code to describe a UI presentation, and a lot of caching issues.</p>
<p>Opposed to that, Immediate UI posits that you should just be able to describe the UI layout and widgets as a part of the program, and the backend should take care of all the state retention. (<a href="https://github.com/ocornut/imgui/wiki/About-the-IMGUI-paradigm">read this for more information</a>)</p>
<p>Now DearImGui as a library embodies those concepts ! But there's other libs that are worth taking a look :</p>
<ul>
<li><a href="https://github.com/vurtun/nuklear">Nuklear</a></li>
<li><a href="https://github.com/rxi/microui">microui</a></li>
</ul>
<p>There's also ways to write retained UI in an immediate mode kind of API, I think it's important to understand the core concepts to simplify how we might write UI backend code in the future !</p>
<p><tag id="toggle-demo-window-code"></tag></p>
<h3>Toggle Demo window code</h3>
<p>Here's the full <code>Tick</code> function that will add a simple button that we can click to toggle the demo window on/off :</p>
<div class="highlight table-responsive"><table class="highlight table-responsivetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">UDevGuiSubsystem::Tick</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">DeltaTime</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">bShowDemo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>

<span class="w">    </span><span class="n">ImGui</span><span class="o">::</span><span class="n">Begin</span><span class="p">(</span><span class="s">"My Little Window :)"</span><span class="p">);</span>
<span class="w">    </span><span class="n">ImGui</span><span class="o">::</span><span class="n">Text</span><span class="p">(</span><span class="s">"Hello, world !"</span><span class="p">);</span>
<span class="w">    </span><span class="n">ImGui</span><span class="o">::</span><span class="n">Text</span><span class="p">(</span><span class="s">"We're inside: %ls"</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">GetName</span><span class="p">());</span>
<span class="w">    </span><span class="n">FVector</span><span class="w"> </span><span class="n">CameraPos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UGameplayStatics</span><span class="o">::</span><span class="n">GetPlayerCameraManager</span><span class="p">(</span><span class="n">GetWorld</span><span class="p">(),</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">GetCameraLocation</span><span class="p">();</span>
<span class="w">    </span><span class="n">ImGui</span><span class="o">::</span><span class="n">Text</span><span class="p">(</span><span class="s">"Camera Position: %.2f %.2f %.2f"</span><span class="p">,</span><span class="w"> </span><span class="n">CameraPos</span><span class="p">.</span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="n">CameraPos</span><span class="p">.</span><span class="n">Y</span><span class="p">,</span><span class="w"> </span><span class="n">CameraPos</span><span class="p">.</span><span class="n">Z</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">ImGui</span><span class="o">::</span><span class="n">Button</span><span class="p">(</span><span class="s">"Toggle Demo"</span><span class="p">))</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">bShowDemo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">!</span><span class="n">bShowDemo</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">ImGui</span><span class="o">::</span><span class="n">End</span><span class="p">();</span>

<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">bShowDemo</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">ImGui</span><span class="o">::</span><span class="n">ShowDemoWindow</span><span class="p">(</span><span class="o">&amp;</span><span class="n">bShowDemo</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
</div>
    </div>
  </article>
    </main>
    <footer class="fixed-bottom py-1 d-flex flex-wrap justify-content-center align-items-center border-top bg-dark">
        <a href="#" class="text-center link-body-emphasis text-decoration-none rounded">Back to top</a>
        <!-- <address class="col-md-4 text-body-secondary text-end m-1">
          Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>,
          which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
        </address> -->
    </footer>
  </body>
</html>